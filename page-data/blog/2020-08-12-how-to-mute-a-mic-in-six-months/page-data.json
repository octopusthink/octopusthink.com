{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/2020-08-12-how-to-mute-a-mic-in-six-months","result":{"data":{"post":{"fields":{"authors":[{"alt":"A photo of a young man with his eyebrows arched.","avatar":"/images/photos/matt-portrait.jpg","bio":"Chief Technical Octopus. Accessibility and React developer. Open-source contributor. Needs coffee to function.","id":"matt","name":"Matthew Riley MacPherson","title":"Chief Technical Octopus"}],"canonical":null,"date":"2020-08-12T00:00:00.000Z","metaDescription":null,"slug":"/blog/2020-08-12-how-to-mute-a-mic-in-six-months","summary":"For a relatively simple app, Mic Drop took a lot longer than you might think to build. It turns out that there's a lot more to simplicity than there seems—and audio, in particular, is especially complex.\n\nMatt explores beneath the surface to share what we've learned from our first foray into macOS app development, from a (mostly) technical perspective.\n","title":"How to mute a mic in six months","tags":[{"id":"development","name":"development","summary":"From how we build apps to tutorials on how to use frameworks and open-source libraries, we like to impart our experience and \"wisdom\", from time-to-time."}],"thumbnail":"/blog/2020-08-12-how-to-mute-a-mic-in-six-months.png","updated":null},"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"authors\": [\"matt\"],\n  \"tags\": [\"development\"],\n  \"title\": \"How to mute a mic in six months\",\n  \"summary\": \"For a relatively simple app, Mic Drop took a lot longer than you might think to build. It turns out that there's a lot more to simplicity than there seems—and audio, in particular, is especially complex.\\n\\nMatt explores beneath the surface to share what we've learned from our first foray into macOS app development, from a (mostly) technical perspective.\\n\",\n  \"thumbnail\": \"/blog/2020-08-12-how-to-mute-a-mic-in-six-months.png\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar Tweet = makeShortcode(\"Tweet\");\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"There\\u2019s an undeniable appeal in simplicity, especially as technology feels increasingly complex. The products we love the most are often the ones that feel the simplest, even if they aren\\u2019t necessarily the ones that do the least.\"), mdx(\"p\", null, \"From a consumer perspective, this often creates something of a paradox\\u2014when an app \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"feels\"), \" simple, we think that it must have been simple to build, but often, the inverse is true. Building an app that feels simple for users can often require more work under the hood than it would to build a more complex app, because we\\u2019re managing that complexity in the code, rather than asking the user to handle that complexity for us.\"), mdx(\"p\", null, \"That\\u2019s good for users\\u2014but not so great for us, when we just wanna ship our damned app! \\uD83D\\uDE05\"), mdx(\"h2\", null, \"If I had more time, I\\u2019d write a shorter letter\"), mdx(\"p\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://getmicdrop.com/\"\n  }), \"Mic Drop\"), \" is a macOS menubar app that allows you to mute and unmute your microphone with a keyboard shortcut. The goal of the app is to provide a customisable, easy, and reliable way to control your microphone in remote meetings and calls.\"), mdx(\"p\", null, \"Mic Drop\\u2019s core functionality\\u2014muting the microphone\\u2014is \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"simple to describe but complex to implement\"), \". It\\u2019s the perfect example of developer hubris: \\u201D\", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Easy. I could build it in a week!\"), \"\\u201D That\\u2019s what I thought too.\"), mdx(\"p\", null, \"In November. (Note: We \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/blog/2020-04-29-say-hello-to-mic-drop\"\n  }), \"released Mic Drop\"), \" in April.) \\uD83D\\uDE05\"), mdx(DecorativeImage, {\n    alt: \"A flowchart showing how you might think muting a device would work: press a button, and the device mutes.\",\n    image: \"src/images/blog/2020-08-12-muting-how-you-think-it-works.png\",\n    mdxType: \"DecorativeImage\"\n  }), mdx(\"p\", null, \"To mute the microphone, Mic Drop relies on macOS\\u2019s Core Audio framework. It\\u2019s a set of APIs that controls low-level audio device functionality on Macs. It\\u2019s been around for a long time, and as a result it\\u2019s pretty complex and certainly very-edge-case-y.\"), mdx(\"p\", null, \"It turns out managing inputs like microphones is much more complicated than we thought! From aggregate inputs and loopback devices, not every input device is a real microphone. There are microphones that ignore mute settings, and some that claim to honour mute status but \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"don\\u2019t\"), \". (I\\u2019m looking at you, LG UltraFine 5K.)\"), mdx(DecorativeImage, {\n    alt: \"A flowchart showing the complex path by which muting a device actually works: press a button, and we first check to see if the device is mutable, then check if it's already muted, then repeat for all other devices connected. \",\n    image: \"src/images/blog/2020-08-12-muting-how-it-actually-works.png\",\n    mdxType: \"DecorativeImage\"\n  }), mdx(\"p\", null, \"There\\u2019s a whole lot of code for handling edge cases in Mic Drop!\"), mdx(\"h2\", null, \"Let\\u2019s not reinvent the wheel\"), mdx(\"p\", null, \"We built on top of existing open-source libraries to handle \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/octopusthink/KeyHolder\"\n  }), \"recording keyboard shortcuts\"), \". We\\u2019ve shared these \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/octopusthink/Magnet\"\n  }), \"customised versions\"), \" of these libraries so you can use them in your own projects.\"), mdx(\"p\", null, \"We published an \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://getmicdrop.com/under-the-hood/\"\n  }), \"Under the Hood\"), \" page on the Mic Drop website. This is something we\\u2019ll be doing for all future apps\\u2014partly because we\\u2019re curious, and partly because we\\u2019re fans of transparency. It allows us an opportunity to explain our choices and gives others a reference for their own projects. \\uD83D\\uDCD5\"), mdx(\"p\", null, \"It turns out it\\u2019s one of the most popular pages on the Mic Drop website, so either people are curious or they\\u2019re finding it useful. We\\u2019ll definitely stick with the habit.\"), mdx(\"p\", null, \"We\\u2019re also using \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://appcenter.ms\"\n  }), \"Microsoft\\u2019s App Center\"), \" to log (anonymous!) usage stats and crash metrics for users who opt-in. It\\u2019s easy to use, and comes with a dead-simple API for logging events in the app. I\\u2019d recommend it! \\uD83D\\uDC4D\\uD83C\\uDFFB\"), mdx(\"h2\", null, \"On macOS\\u2014and the Mac App Store\"), mdx(\"p\", null, \"We\\u2019re web people at heart, and though we\\u2019ve made iOS and Android apps in the past, this is the first macOS app we\\u2019ve shipped. It\\u2019s also the first app we sold via the Mac App Store.\"), mdx(\"p\", null, \"At first, we weren\\u2019t even sure if we would ship Mic Drop to the Mac App Store\\u2014but I\\u2019m glad we did.\"), mdx(\"p\", null, \"It\\u2019s frustrating to be paying \\\\$99/year and 30% to Apple\\u2014a company famed for their excellent user experience\\u2014and then have Apple\\u2019s review process block us from shipping bug fixes to users, sometimes for lengthy periods of time. \\uD83D\\uDE24\"), mdx(\"p\", null, \"I know App Store review times have improved a good deal, but the unnecessary opaqueness of the process and the comparison to the ease of self-publishing updates is a needless frustration.\"), mdx(\"p\", null, \"That said: we can\\u2019t deny that the Mac App Store has benefitted app sales. This month Mic Drop has made about 50% of its revenue via the App Store, and we get some sales from organic searches via the app store.\"), mdx(\"h2\", null, \"Singing to myself\"), mdx(\"p\", null, \"Building an audio app makes for some strange development habits. Sometimes I sing into the microphone with a \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://en.wikipedia.org/wiki/VU_meter\"\n  }), \"VU meter\"), \" open to see if the mute is working. Sarah has just learnt to ignore the chorus of \\u201CDo do do dee dee do dee\\u201D streaming from the office. \\uD83C\\uDFB6\"), mdx(\"p\", null, \"There was a bug related to a menubar API when multiple monitors were used with a MacBook screen open. Since I have a single-monitor setup at my desk, I had to get creative to reproduce the issue:\"), mdx(Tweet, {\n    align: \"center\",\n    hideConversation: true,\n    tweetLink: \"https://twitter.com/tofumatt/status/1271388983008903169\",\n    mdxType: \"Tweet\"\n  }), mdx(\"p\", null, \"So many Vespas! \\uD83D\\uDEF5 (Including on my coffee cup.)\"), mdx(\"h2\", null, \"Hardware is \", mdx(\"em\", {\n    parentName: \"h2\"\n  }, \"hard\")), mdx(\"p\", null, \"Testing meeting software is easy. Most meeting apps have a free version we can test with.\"), mdx(\"p\", null, \"But not all audio hardware behaves consistently, and it\\u2019s a real pain to diagnose issues without the hardware on hand. A lot of the hardware people write in about is expensive and niche, so it\\u2019s often quite costly to test an issue for one user. We try really hard to offer great support, but the maths on that is tricky\\u2014a \\xA3500 device for a \\xA34 sale (of which we\\u2019re donating \\xA32, and the taxman takes nearly \\xA31) is the kind of business practise that makes our accountant give us long lectures.\"), mdx(\"p\", null, \"I won\\u2019t lie: we\\u2019ve (ab)used generous return policies a few times, because we don\\u2019t personally have much use for a \\xA3500+ USB-XLR Audio interface after we\\u2019ve debugged its issues. \\uD83D\\uDE06\"), mdx(\"h2\", null, \"Betas are the best\"), mdx(\"p\", null, \"I\\u2019d be remiss if I didn\\u2019t mention some of the awesome and creative users we\\u2019ve met during Mic Drop\\u2019s early development. \\u2764\\uFE0F\"), mdx(\"p\", null, \"This was our first Mac app and we\\u2019re a young company, so our beta group was pretty small. But those users provided really excellent feedback. Even if your beta group is tiny, it\\u2019s worth doing to get any feedback you can and ensure your app works for people before you ship it to the world!\"), mdx(\"p\", null, \"One of our beta users (hi Enrique! \\uD83D\\uDC4B\\uD83C\\uDFFB) shared feedback that, after some discussion with Sarah, led to the status window feature. I was skeptical at first, but it\\u2019s turned out to be a very popular feature. Heck, even I use it now! \\uD83D\\uDE43\"), mdx(DecorativeImage, {\n    image: \"/images/blog/2020-08-12-mic-drop-status-window.png\",\n    alt: \"Mic Drop's status window displaying On Air text\",\n    mdxType: \"DecorativeImage\"\n  }), mdx(\"p\", null, \"Another user was building an Arduino-powered \\u201COn Air\\u201D light switch to hook up to a keyboard shortcut for Mic Drop. Pretty cool! (Send photos, please!) \\uD83D\\uDCA1\"), mdx(\"h2\", null, \"Greener pastures (in defense of the web)\"), mdx(\"p\", null, \"I often hear developers bemoan the amount of technology needed to build even a simple \\u201CHello world\\u201D web app. From transpiling ES6 with Babel to managing assets with Webpack: there\\u2019s a \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"lot\"), \" to learn to make a good website these days. Gone are the days of \\u201Cwrite some HTML, CSS, and maybe some jQuery\\u201D to build a website or an HTML app. But it\\u2019s backward to observe this trend and proclaim: \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"The web is getting too complex because the build systems are complex!\"), \" The reality is those build systems are evolving at the same rate as the web itself, which can do a lot more than it could it the days of jQuery 1.0.\"), mdx(\"p\", null, \"Venture into Xcode and you\\u2019ll observe the same sort of complexity. Except it\\u2019s obscured by an IDE and a lack of open-source code. Say what you will about the web, but you can always go to the source if needed\\u2014and with the functional and modular approach more build tools and libraries are taking, you aren\\u2019t locked into a development paradigm like you were in the days of WordPress or Rails. Conversely, Xcode and the Apple toolchain are pretty much the only way to build a macOS app aside from Electron.\"), mdx(\"p\", null, \"All of this is just to say that the grass is always greener. Xcode can be frustrating, opaque, and restrictive. It comes a steep learning curve. I had plenty of \\u201Coh, cool!\\u201D moments building Mic Drop, but my frustrations with Xcode were similar to the frustrations I encounter with any new tool. \\uD83E\\uDD37\\uD83C\\uDFFB\\u200D\\u2642\\uFE0F\"), mdx(\"h2\", null, \"Once more unto the breach\"), mdx(\"p\", null, \"After all that: would we do it all over again? We sure would! In fact: we\\u2019ve already started!\"), mdx(\"p\", null, \"We\\u2019re currently busy working on another menu bar app, except this one will be for both macOS and Windows. It\\u2019s a timer app, for freelancers and other people who need to track the time they spend working on projects. It\\u2019s currently especially designed for users of FreeAgent, but we\\u2019re planning other integrations and a standalone version as well.\"), mdx(\"p\", null, \"If you want to hear more about it sign up for our newsletter (at the bottom of the page) or \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://twitter.com/octopusthink\"\n  }), \"follow us on Twitter\"), \" to get notified when we start the beta!\"));\n}\n;\nMDXContent.isMDXComponent = true;","id":"aaa5d30c-b921-5595-82b1-e90412ad0557"}},"pageContext":{"nowTimestamp":1625046967,"id":"aaa5d30c-b921-5595-82b1-e90412ad0557","slug":"/blog/2020-08-12-how-to-mute-a-mic-in-six-months","nexttitle":"A watched employee never boils","nextslug":"/blog/2020-10-31-a-watched-employee-never-boils","prevtitle":"The Remote Meeting Etiquette Guide","prevslug":"/blog/2020-06-30-remote-meeting-etiquette-guide"}}}